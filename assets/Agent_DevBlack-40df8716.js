import{u as P}from"./Data-22c9805f.js";/* empty css                        *//* empty css               *//* empty css                  *//* empty css                     */import"./el-tooltip-4ed993c7.js";/* empty css                *//* empty css                 *//* empty css                  *//* empty css                 */import{t as _,u as V}from"./AgentSDK-14d03a13.js";import{i as N}from"./Lib-8a9b4113.js";import{d as A,r as v,o as M,q as U,e,w as l,G,a as R,u as m,i as j,f as d,B as w,b as q,k as K,n as O,N as W,t as Y,W as Z,K as F,Y as H,Z as J}from"./index-d0b4b41e.js";import{S as Q}from"./Search-fd19a2cb.js";import"./index-c417e2fb.js";import"./index-9c55a241.js";const X={class:"h-[850px] p-[15px]"},$={class:"mt-[10px] ml-[10px]"},xe=A({__name:"Agent_DevBlack",setup(ee){const c=P(),u=v(1),o=v(60);let s=v(o.value*(u.value-1)),i=v(o.value),n=v("");M(()=>{_(n.value,s.value,i.value)});const b=()=>{s.value=o.value*(u.value-1),i.value=o.value,o.value<c.Data.BlackList.BlackNum&&_(n.value,s.value,i.value)},k=()=>{s.value=o.value*(u.value-1),i.value=o.value,_(n.value,s.value,i.value)},h=r=>{const t=u.value,f=o.value;return r+1+(t-1)*f},E=r=>{for(let t=0;t<c.Data.ExeList.Exes.length;t++)if(r==c.Data.ExeList.Exes[t].ID)return c.Data.ExeList.Exes[t].Title;return"未知"},D=r=>{V(r),_(n.value,s.value,i.value)},B=()=>{_(n.value,s.value,i.value)},C=()=>{n.value="",u.value=1,o.value=60,s.value=0,i.value=60,_(n.value,s.value,i.value)},y=r=>r.substring(0,19).replace("T"," ");return(r,t)=>{const f=K,g=O,I=W,S=Y,x=G,p=Z,z=F,L=H,T=J;return R(),U("div",X,[e(x,{class:"mb-[15px]"},{default:l(()=>[e(S,null,{default:l(()=>[e(I,{wrap:""},{default:l(()=>[e(f,{style:{width:"300px"},modelValue:m(n),"onUpdate:modelValue":t[0]||(t[0]=a=>j(n)?n.value=a:n=a),placeholder:"请输入要查询的设备ID/IP","prefix-icon":m(Q)},null,8,["modelValue","prefix-icon"]),e(g,{type:"primary",onClick:B},{default:l(()=>[d("查询")]),_:1},8,["onClick"]),e(g,{type:"primary",onClick:C},{default:l(()=>[d("重置")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),e(x,null,{default:l(()=>[e(L,{data:m(c).Data.BlackList.BlackList,style:{width:"100%"},stripe:""},{default:l(()=>[e(p,{label:"序号",type:"index",index:h,width:"80",align:"center"}),e(p,{prop:"ExeID",label:"软件名称",width:"150",align:"center"},{default:l(a=>[d(w(E(a.row.ExeID)),1)]),_:1}),e(p,{prop:"DeviceID","show-overflow-tooltip":"true",label:"设备ID",width:"300",align:"center"}),e(p,{prop:"IP","show-overflow-tooltip":"true",label:"设备IP",width:"200",align:"center"}),e(p,{prop:"EndTime","show-overflow-tooltip":"true",label:"封禁时间",width:"200",align:"center"},{default:l(a=>[e(z,{effect:"danger"},{default:l(()=>[d(w(y(a.row.EndTime)),1)]),_:2},1024)]),_:1}),e(p,{prop:"Bak","show-overflow-tooltip":"true",label:"封禁说明",width:"300",align:"center"}),e(p,{label:"操作 ",fixed:N()?!1:"right",align:"center","min-width":"80"},{default:l(a=>[e(g,{type:"warning",size:"small",onClick:te=>D(a.row.DeviceID)},{default:l(()=>[d("删除")]),_:2},1032,["onClick"])]),_:1},8,["fixed"])]),_:1},8,["data"]),q("div",$,[e(T,{"current-page":u.value,"onUpdate:currentPage":t[1]||(t[1]=a=>u.value=a),"page-size":o.value,"onUpdate:pageSize":t[2]||(t[2]=a=>o.value=a),"page-sizes":[60,100,150],small:!1,disabled:!1,background:!0,"prev-text":"上一页","next-text":"下一页","popper-class":"页",layout:"total, sizes, prev, pager, next,jumper,slot",total:m(c).Data.BlackList.BlackNum,onSizeChange:b,onCurrentChange:k},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])]),_:1})])}}});export{xe as default};

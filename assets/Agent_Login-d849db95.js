import{u as w}from"./Data-afce409e.js";/* empty css                *//* empty css                *//* empty css                  *//* empty css                 */import{d as f,x as D,y as x,o as b,a as k,q as I,E as c,r as v,b as i,e as s,w as l,s as S,F as h,G as y,u as _,z as M,A as B,f as m,v as N,k as P,t as G,n as V,D as E,H as T,I as U,_ as R}from"./index-ce1d2c5b.js";import{I as H,b as z}from"./db-dc26adbe.js";import{I as p,L as F}from"./AgentSDK-1dca2650.js";import{H as O}from"./Lib-0ac898de.js";import"./index-61544327.js";import"./index-4169358b.js";const Q=f({__name:"Agent_Res",setup(r){const a=w();var e=D({Tag:"",Code:0,Msg:"",Data:void 0,Time:""});const d=x(),u=()=>{a.Data.IsConn=!1,d.replace({path:"/",replace:!0})};b(()=>{a.Data.IsConn=!1;var t=localStorage.getItem("ServerMod")??"";if(t=="0"){a.Data.ServerMod=0,a.Data.IsConn==!1&&p(H,o,u);return}let n=localStorage.getItem("URL")??"";if(n==""||n==null){a.dialogShow.Seting_dialog=!0;return}a.Data.IsConn==!1&&p(n,o,u)});function o(t){if(e.Tag=t.Tag,e.Code=t.Code,e.Data=t.Data,e.Msg=t.Msg,e.Time=t.Time,e.Code==0){c.error(e.Msg);return}if(e.Tag=="OffLine"){alert(e.Msg);return}switch(e.Tag){case"DevKey":break;case"GetCode":break;case"Login":c.success(e.Msg),d.push("/Agent/Card");break;case"GetInfo":a.Data.Info=e.Data;break;case"GetAgentInfo":a.Data.AgentInfo=e.Data.Info;break;case"GetExeList":a.Data.ExeList=e.Data;break;case"GetVariables":a.Data.VariableList=e.Data;break;case"GetCarList":a.Data.CarList=e.Data;break;case"GetUserList":a.Data.UserList=e.Data;break;case"GetBills":a.Data.BillList=e.Data;break;case"CountBills":a.Data.CountBills=e.Data;break;case"GetBlackList":a.Data.BlackList=e.Data;break;case"CreateOrder":a.Data.QrCode=e.Data;break;case"CompletePayment":a.Data.QrCode="",a.dialogShow.Pay_dialog=!1,c.success(e.Msg);break;case"GetAgentList":a.Data.AgentList=e.Data,a.Data.AgentList.Agents=O(a.Data.AgentList.Agents);break;case"CountAgentBills":a.Data.AgentBill=e.Data;break;default:c.success(e.Msg);break}}return(t,n)=>(k(),I("div"))}}),$=r=>(T("data-v-752700c3"),r=r(),U(),r),j=$(()=>i("h5",{class:"text-yellow-700 text-center mb-8 text-[25px] font-bold"}," 代理登录 ",-1)),q={class:"input"},K={class:"text-center justify-center"},W=f({__name:"Agent_Login",setup(r){const a=v(z),e=D({Name:"",Pwd:""});function d(){if(e.Name==""||e.Pwd.length<6){c.error("用户名或密码长度不小于6位");return}F(e.Name,e.Pwd),localStorage.setItem("AgentName",e.Name),localStorage.setItem("AgentPwd",e.Pwd)}return b(()=>{e.Name=localStorage.getItem("AgentName")??"",e.Pwd=localStorage.getItem("AgentPwd")??""}),(u,o)=>{const t=P,n=G,C=V,L=E,A=y;return k(),I(h,null,[i("div",{class:"login-page top",style:S({backgroundImage:`url(${a.value})`})},[s(A,{class:"box-card"},{default:l(()=>[j,i("div",q,[s(n,{gutter:20,class:"mb-5"},{default:l(()=>[s(t,{modelValue:e.Name,"onUpdate:modelValue":o[0]||(o[0]=g=>e.Name=g),placeholder:"请输入用户名","prefix-icon":_(M)},null,8,["modelValue","prefix-icon"])]),_:1}),s(n,{gutter:20,class:"mb-5"},{default:l(()=>[s(t,{modelValue:e.Pwd,"onUpdate:modelValue":o[1]||(o[1]=g=>e.Pwd=g),placeholder:"请输入密码","show-password":"","prefix-icon":_(B)},null,8,["modelValue","prefix-icon"])]),_:1})]),i("div",K,[s(C,{type:"primary",size:"default",onClick:d},{default:l(()=>[m("登录")]),_:1})]),i("div",null,[s(L,{type:"primary",underline:!1,href:"",target:"_blank",onClick:_(N).back},{default:l(()=>[m("返回")]),_:1},8,["onClick"])])]),_:1})],4),s(Q)],64)}}});const le=R(W,[["__scopeId","data-v-752700c3"]]);export{le as default};

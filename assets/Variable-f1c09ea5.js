import{u as X}from"./Data-afce409e.js";/* empty css                  *//* empty css                   */import"./el-form-item-4ed993c7.js";/* empty css                        *//* empty css               *//* empty css                  *//* empty css                     */import"./el-tooltip-4ed993c7.js";/* empty css                *//* empty css                 *//* empty css                 *//* empty css                   *//* empty css                  */import{h as m,i as Y,j as Z,k as $,l as H}from"./SDK-e8ce8a69.js";import{c as J}from"./Lib-0ac898de.js";import{d as O,r as c,x as Q,o as ee,q as le,b as h,e,w as a,u,i as E,F as ae,G as te,p as oe,a as ne,f as _,B as ue,E as K,n as ie,X as re,k as se,N as pe,t as de,W as me,Y as ce,Z as _e,l as ve}from"./index-ce1d2c5b.js";import{S as fe}from"./Search-38234518.js";import"./index-4169358b.js";import"./index-61544327.js";const be={class:"h-[850px] p-[15px]"},xe={class:"mt-[10px] ml-[10px]"},Ve={class:"justify-center text-center mt-[10px]"},Me=O({__name:"Variable",setup(ge){let v=c(!1),b=c("添加变量"),g=c(!0),l=Q({_id:"",Key:"",Value:"",Bak:""}),y=c("添加");const f=c(1),i=c(30);let r=c(i.value*(f.value-1)),s=c(i.value),n=c("");const w=X();ee(()=>{m(n.value,r.value,s.value)});const S=()=>{r.value=i.value*(f.value-1),s.value=i.value,i.value<=w.Data.VariableList.Num&&m(n.value,r.value,s.value)},U=()=>{r.value=i.value*(f.value-1),s.value=i.value,m(n.value,r.value,s.value)},D=()=>{if(l.Key==""||l.Value==""){K.error("键或值不能为空");return}if(b.value=="添加变量"){Y(l.Key,l.Value,l.Bak),v.value=!1,m(n.value,r.value,s.value);return}if(b.value=="编辑变量"){if(l._id=="")return;Z(l._id,l.Value,l.Bak),v.value=!1,m(n.value,r.value,s.value);return}},N=()=>{$(),m(n.value,r.value,s.value)},R=p=>{J(p.Key),K.success("键名称复制成功")},P=()=>{n.value="",f.value=1,i.value=60,m(n.value,r.value,s.value)},j=()=>{m(n.value,r.value,s.value)},L=p=>{const o=f.value,d=i.value;return p+1+(o-1)*d},T=()=>{v.value=!0,g.value=!0,l.Key="",l._id="",l.Value="",l.Bak="",b.value="添加变量",y.value="提交"},A=p=>{H(p._id),m(n.value,r.value,s.value)},F=p=>{v.value=!0,g.value=!1,b.value="编辑变量",l._id=p._id,l.Key=p.Key,l.Value=p.Value,l.Bak=p.Bak,y.value="更新"};return(p,o)=>{const d=ie,B=re,V=se,M=pe,G=de,k=te,x=me,I=ce,q=_e,C=ve,W=oe;return ne(),le(ae,null,[h("div",be,[e(k,{class:"mb-[15px]"},{default:a(()=>[e(G,{class:"m-auto text-center",type:"flex",justify:"start"},{default:a(()=>[e(M,{wrap:""},{default:a(()=>[e(d,{type:"primary",onClick:T},{default:a(()=>[_("创建变量")]),_:1},8,["onClick"]),e(B,{title:"再次确认 清空所有变量",onConfirm:N},{reference:a(()=>[e(d,{type:"danger"},{default:a(()=>[_("清空所有变量")]),_:1})]),default:a(()=>[_(' confirm-button-text="是" cancel-button-text="否"> ')]),_:1},8,["onConfirm"]),e(V,{modelValue:u(n),"onUpdate:modelValue":o[0]||(o[0]=t=>E(n)?n.value=t:n=t),style:{width:"100%","max-width":"350px"},placeholder:"要查询的键名称/备注","prefix-icon":u(fe)},null,8,["modelValue","prefix-icon"]),e(d,{type:"primary",onClick:j},{default:a(()=>[_("查询")]),_:1},8,["onClick"]),e(d,{type:"primary",onClick:P},{default:a(()=>[_("重置")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),e(k,null,{default:a(()=>[e(I,{data:u(w).Data.VariableList.Variables,style:{width:"100%"},stripe:"","tooltip-effect":"light"},{default:a(()=>[e(x,{label:"序号",type:"index",index:L,width:"80",align:"center"}),e(x,{"show-overflow-tooltip":"true",prop:"Key",label:"键名称",width:"300",align:"center"}),e(x,{"show-overflow-tooltip":"true",prop:"Bak",label:"备注信息",width:"300",align:"center"}),e(x,{"show-overflow-tooltip":"true",prop:"Value",label:"值内容","min-width":"250",align:"center"}),e(x,{label:"操作 ",align:"center",width:"350"},{default:a(t=>[e(d,{type:"success",size:"small",onClick:z=>R(t.row)},{default:a(()=>[_("复制键名")]),_:2},1032,["onClick"]),e(d,{type:"primary",size:"small",onClick:z=>F(t.row)},{default:a(()=>[_("编辑")]),_:2},1032,["onClick"]),e(B,{title:"确认删除变量",onConfirm:z=>A(t.row),"confirm-button-text":"是","cancel-button-text":"否"},{reference:a(()=>[e(d,{type:"danger",size:"small"},{default:a(()=>[_("删除")]),_:1})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"]),h("div",xe,[e(q,{"current-page":f.value,"onUpdate:currentPage":o[1]||(o[1]=t=>f.value=t),"page-size":i.value,"onUpdate:pageSize":o[2]||(o[2]=t=>i.value=t),"page-sizes":[30,60,100],small:!1,disabled:!1,background:!0,"prev-text":"上一页","next-text":"下一页","popper-class":"页",layout:"total, sizes, prev, pager, next,jumper,slot",total:u(w).Data.VariableList.Num,onSizeChange:S,onCurrentChange:U},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])]),_:1})]),e(W,{modelValue:u(v),"onUpdate:modelValue":o[6]||(o[6]=t=>E(v)?v.value=t:v=t),title:u(b),width:"100%",class:"max-w-[600px]",center:"",draggable:""},{default:a(()=>[e(k,null,{default:a(()=>[e(C,{label:"键名称","label-width":"80px"},{default:a(()=>[e(V,{modelValue:u(l).Key,"onUpdate:modelValue":o[3]||(o[3]=t=>u(l).Key=t),autocomplete:"off",placeholder:"请输入变量的键",disabled:!u(g)},null,8,["modelValue","disabled"])]),_:1}),e(C,{label:"备注信息","label-width":"80px"},{default:a(()=>[e(V,{modelValue:u(l).Bak,"onUpdate:modelValue":o[4]||(o[4]=t=>u(l).Bak=t),autocomplete:"off",placeholder:"请输入备注信息",autosize:{minRows:1,maxRows:3}},null,8,["modelValue"])]),_:1}),e(C,{label:"变量值","label-width":"80px"},{default:a(()=>[e(V,{modelValue:u(l).Value,"onUpdate:modelValue":o[5]||(o[5]=t=>u(l).Value=t),autocomplete:"off",placeholder:"请输入变量的值(最好加密)",type:"textarea",autosize:{minRows:8,maxRows:8}},null,8,["modelValue"])]),_:1}),h("div",Ve,[e(d,{type:"success",class:"mt-auto w-[100px] h-[50px]",size:"large",onClick:D},{default:a(()=>[_(ue(u(y)),1)]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["modelValue","title"])],64)}}});export{Me as default};

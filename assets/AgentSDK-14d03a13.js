import{R as S}from"./Lib-8a9b4113.js";import{C as u}from"./index-c417e2fb.js";import{u as T}from"./Data-22c9805f.js";import{E as f}from"./index-d0b4b41e.js";const y=T();let p="mspkey",D;function m(e,t,n){D=new WebSocket(`ws://${e}/api/agent/ws?DevID=WEBUI`);function s(){D.addEventListener("open",o,!1),D.addEventListener("close",n,!1),D.addEventListener("message",r,!1)}const o=()=>{f.success("服务器连接成功"),p="mspkey",y.Data.IsConn=!0},r=async i=>{let l=i.data;if(l=="")return;var d=l.replace(/"/g,"");let c=JSON.parse(S(d,p));c.Code==1&&c.Tag=="DevKey"&&(p=c.Data),t(c)};s()}function a(e){if(!y.Data.IsConn){f.error("服务器尚未连接,请刷新重连服务器!");return}const t=JSON.stringify(e);let n=u.RC4.encrypt(t,u.enc.Utf8.parse(p)).toString();D.send(n)}function I(e,t){var n={Type:"Login",Data:{Name:e,Pwd:t}};a(n)}function C(){var e={Type:"GetExeList"};a(e)}function L(){var e={Type:"GetAgentInfo"};a(e)}function B(e,t,n,s,o,r){var i={Type:"GetCarList",Data:{Value:e,TyCar:t,Skip:n,Limit:s,ExeID:o,AgentID:r}};a(i)}function U(e,t,n,s){var o={Type:"AddCars",Data:{ExeID:e,Num:t,TyCar:n,Bak:s}};a(o)}function w(e){var t={Type:"DelCarOne",Data:{Serial:e}};a(t)}function E(e,t,n){var s={Type:"DelCarMany",Data:{Value:t,TyCar:n,ExeID:e}};a(s)}function k(e,t){var n={Type:"SetCarState",Data:{Serial:e,State:t}};a(n)}function G(e,t,n,s,o){var r={Type:"GetUserList",Data:{Value:e,ExeID:o,TyUser:t,Skip:n,Limit:s}};a(r)}function O(e,t,n,s,o,r,i){var l={Type:"UpUser",Data:{UserID:e,State:t,Bak:n,BindCont:s,Online:o,Conf:r,Level:i}};a(l)}function P(e){var t={Type:"OffLineUserOne",Data:{UserID:e}};a(t)}function R(e){var t={Type:"DelUser",Data:{UserID:e}};a(t)}function x(e){var t={Type:"RemoveDeviceID",Data:{UserID:e}};a(t)}function N(){var e={Type:"DelEndTimeUsers"};a(e)}function M(e,t){var n={Type:"SetUserPwd",Data:{UserID:e,NewPwd:t}};a(n)}function V(e,t,n){var s={Type:"GetAgentList",Data:{Value:e,Skip:t,Limit:n}};a(s)}function W(e,t){var n={Type:"AddAgent",Data:{Name:e,Pwd:t}};a(n)}function J(e,t){var n={Type:"SetAgentState",Data:{AgentID:e,State:t}};a(n)}function b(e,t){var n={Type:"AddAgentMB",Data:{AgentID:e,MB:t}};a(n)}function K(e){var t={Type:"DelAgent",Data:{AgentID:e}};a(t)}function h(e,t,n,s,o){var r={Type:"SetAgentRoot",Data:{AgentID:e,Discount:t,Bak:n,Root:s,ExeIDs:o}};a(r)}function q(e,t){var n={Type:"ResetAgentPwd",Data:{AgentID:e,NewPwd:t}};a(n)}function $(e,t,n,s,o,r){var i={Type:"GetBills",Data:{Value:e,Skip:t,Limit:n,AgentID:s,StartTimeStr:o,EndTimeStr:r}};a(i)}function z(e,t){a({Type:"CountBills",Data:{StartTimeStr:e,EndTimeStr:t}})}function F(e){var t={Type:"DelBill",Data:{BillID:e}};a(t)}function H(e,t,n){var s={Type:"GetBlackList",Data:{Value:e,Skip:t,Limit:n}};a(s)}function Q(e){var t={Type:"DelBlackOne",Data:{DeviceID:e}};a(t)}function X(e,t){var n={Type:"SetPwd",Data:{OldPwd:e,NewPwd:t}};a(n)}function Y(e,t,n){var s={Type:"CountAgentBills",Data:{AgentID:e,StartTimeStr:t,EndTimeStr:n}};a(s)}function Z(e){var t={Type:"DelAgentBillAll",Data:{AgentID:e}};a(t)}export{U as A,Y as C,w as D,C as G,m as I,I as L,P as O,x as R,X as S,O as U,L as a,B as b,k as c,E as d,G as e,R as f,N as g,M as h,V as i,h as j,W as k,K as l,J as m,b as n,q as o,Z as p,$ as q,z as r,F as s,H as t,Q as u};

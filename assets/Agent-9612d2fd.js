import{u as h}from"./Data-0e2b160c.js";/* empty css                 */import"./el-tooltip-4ed993c7.js";/* empty css               *//* empty css                  *//* empty css                   *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css                  *//* empty css                         *//* empty css                     */import{G as L,a as I,S as R}from"./AgentSDK-f3b8d40e.js";import{d as D,y as q,r as P,x as H,o as z,J,a as r,q as E,b as x,e as t,w as e,u as s,c as f,f as l,B as c,g as V,F as C,E as N,K,n as S,a7 as Q,a8 as W,a9 as X,t as B,C as Y,k as Z,l as ee,m as te,p as oe,_ as $,L as O,M as ne,N as ae,O as le,v as se,P as re,Q as de,R as _e,S as ie,T as ue,U as ce,V as me}from"./index-a03fb73d.js";/* empty css                 */import{g as U}from"./db-bef06366.js";import{i as pe}from"./Lib-68e63efa.js";import"./index-d608f87e.js";import"./index-9d39963a.js";const fe={class:"h-10 hidden-sm-and-down top"},we={class:"mx-[30px]"},xe={class:"text-light-300 ml-[10px] justify-center text-center align-middle"},ge={class:"w-[98%]"},ve=D({__name:"Agent_Main",setup(A){const o=h(),g=q(),d=P(!1),n=H({OldPwd:"",NewPwd:"",NewPwd2:""}),p=()=>{if(n.OldPwd==""||n.NewPwd==""){N.error("请仔细填写");return}if(n.NewPwd!=n.NewPwd2){N.error("两次密码不一致");return}R(n.OldPwd,n.NewPwd),d.value=!1,localStorage.setItem("Pwd",""),location.reload()};return z(async()=>{if(!o.Data.IsConn){g.replace({path:"/",replace:!0}),console.log("需要断线重连");return}await L(),await I()}),(v,a)=>{const _=K,m=S,y=Q,i=W,w=X,M=B,F=Y,T=J("router-view"),b=Z,k=ee,j=te,G=oe;return r(),E(C,null,[x("div",fe,[t(M,{class:"m-auto h-[100%]",type:"flex",justify:"space-between"},{default:e(()=>[s(o).Data.isMobile?V("",!0):(r(),f(F,{key:0,span:23,class:"m-auto"},{default:e(()=>[t(M,{gutter:20,type:"flex",align:"middle",justify:"end",class:"m-auto"},{default:e(()=>[t(_,{class:"mr-[20px]",size:"normal",effect:"dark"},{default:e(()=>[l(" 折扣系数:"+c(s(o).Data.AgentInfo.Discount),1)]),_:1}),t(_,{class:"mr-[20px]",type:"success",size:"normal",effect:"dark"},{default:e(()=>[l(" 账户余额:"+c(s(o).Data.AgentInfo.MB)+"￥ ",1)]),_:1}),t(_,{class:"mr-[20px]",type:"warning",size:"normal",effect:"dark"},{default:e(()=>[l(" 库存卡: "+c(s(o).Data.AgentInfo.CarCount),1)]),_:1}),t(_,{class:"mr-[20px]",type:"danger",size:"normal",effect:"dark"},{default:e(()=>[l(" 销售额: "+c(s(o).Data.AgentInfo.BillCount)+"￥ ",1)]),_:1}),t(_,{class:"mr-[20px]",type:"danger",size:"normal",effect:"dark"},{default:e(()=>[l(" 子代数: "+c(s(o).Data.AgentInfo.AgentCount),1)]),_:1}),x("p",we," 欢迎: "+c(s(o).Data.AgentInfo.Name),1),t(m,{type:"primary",size:"small",onClick:I},{default:e(()=>[l("刷新")]),_:1},8,["onClick"]),x("div",xe,[t(w,null,{dropdown:e(()=>[t(i,null,{default:e(()=>[t(y,{onClick:a[0]||(a[0]=u=>d.value=!0)},{default:e(()=>[l("修改密码")]),_:1})]),_:1})]),default:e(()=>[t(m,{type:"info",size:"small"},{default:e(()=>[l("更多")]),_:1})]),_:1})])]),_:1})]),_:1}))]),_:1})]),x("div",ge,[t(T)]),t(G,{title:"修改密码",modelValue:d.value,"onUpdate:modelValue":a[5]||(a[5]=u=>d.value=u),width:"330px",draggable:"true"},{default:e(()=>[t(j,{model:n,ref:"form","label-width":"80px",inline:!1,size:"normal"},{default:e(()=>[t(k,{label:"旧密码"},{default:e(()=>[t(b,{"show-password":"",modelValue:n.OldPwd,"onUpdate:modelValue":a[1]||(a[1]=u=>n.OldPwd=u)},null,8,["modelValue"])]),_:1}),t(k,{label:"新密码"},{default:e(()=>[t(b,{"show-password":"",modelValue:n.NewPwd,"onUpdate:modelValue":a[2]||(a[2]=u=>n.NewPwd=u)},null,8,["modelValue"])]),_:1}),t(k,{label:"确认密码"},{default:e(()=>[t(b,{"show-password":"",modelValue:n.NewPwd2,"onUpdate:modelValue":a[3]||(a[3]=u=>n.NewPwd2=u)},null,8,["modelValue"])]),_:1}),t(k,null,{default:e(()=>[t(m,{type:"primary",onClick:p},{default:e(()=>[l("立即修改")]),_:1},8,["onClick"]),t(m,{onClick:a[4]||(a[4]=u=>d.value=!1)},{default:e(()=>[l("取消")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}});const ye=$(ve,[["__scopeId","data-v-a0fd3e7e"]]),ke=x("div",{class:"m-auto text-center text-white"},"授权系统",-1),Ee=D({__name:"affix",setup(A){const o=P(!1),g=U();function d(n){se.push(n.key??""),o.value=!1}return(n,p)=>{const v=S,a=B,_=ne,m=ae,y=le;return r(),E(C,null,[t(_,{position:"top",class:"bg-blue-500 h-[32px]"},{default:e(()=>[t(a,null,{default:e(()=>[t(v,{color:"#626aef",dark:!0,onClick:p[0]||(p[0]=i=>o.value=!0)},{default:e(()=>[l("导航页")]),_:1}),ke]),_:1})]),_:1}),t(y,{modelValue:o.value,"onUpdate:modelValue":p[1]||(p[1]=i=>o.value=i),title:"导航","with-header":!1,direction:"ltr",size:"45%"},{default:e(()=>[t(m,{wrap:"",size:20,alignment:"",fill:!0,class:"text-center"},{default:e(()=>[(r(!0),E(C,null,O(s(g),i=>(r(),f(v,{text:"",onClick:w=>d(i)},{default:e(()=>[l(c(i.name),1)]),_:2},1032,["onClick"]))),256))]),_:1})]),_:1},8,["modelValue"])],64)}}}),Ce="授权系统",be=D({__name:"Agent",setup(A){const o=h(),g=U(),d=P({menuwith:"180px"});return z(()=>{o.Data.isMobile=pe()}),(n,p)=>{const v=ce,a=me,_=de,m=_e,y=ie,i=re;return r(),f(i,{class:"top"},{default:e(()=>[s(o).Data.isMobile?V("",!0):(r(),f(m,{key:0,width:d.value.menuwith.toString(),class:"lift"},{default:e(()=>[x("div",{class:"my-[20px] text-center text-white text-siez-[16px]"},c(Ce)),t(_,{"active-text-color":"#ffd04b","background-color":"#545c64",class:"el-menu-vertical-demo","default-active":"/Home","text-color":"#fff",router:""},{default:e(()=>[(r(!0),E(C,null,O(s(g),w=>(r(),f(a,{index:w.key,class:"items-center text-center"},{title:e(()=>[l(c(w.name),1)]),default:e(()=>[t(v,null,{default:e(()=>[(r(),f(ue(w.icon)))]),_:2},1024)]),_:2},1032,["index"]))),256))]),_:1})]),_:1},8,["width"])),t(y,{style:{padding:"0"}},{default:e(()=>[s(o).Data.isMobile?(r(),f(Ee,{key:0})):V("",!0),t(ye)]),_:1})]),_:1})}}});const qe=$(be,[["__scopeId","data-v-f420ecbe"]]);export{qe as default};
